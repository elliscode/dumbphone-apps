<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Dumbphone Apps</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/stylesheet.css' %}"/>
    {% load static %}
    <link rel="icon" type="image/png" href="{% static 'img/favicon.png' %}"/>
</head>

<body>

<h2>Log In</h2>

<form method="post" action="/accounts/signup/email" id="enter-email">
  {% csrf_token %}
  <p>
    <label for="email">Email Address:</label>
    <input type="email" id="email" name="email">
  </p>
  <button onclick="changeLayout(event)" type="submit">Send OTP</button>
</form>

<form style="display:none;" method="post" action="/accounts/login/otp" id="enter-otp">
  {% csrf_token %}
  <p>
    <label for="email">Email Address:</label>
    <input type="email" id="email2" name="email" readonly>
  </p>
  <p>
    <label for="email">OTP:</label>
    <input name="otp" type="text" id="otp" pattern="[A-Z0-9]+" maxlength="6">
  </p>
  <button type="submit">Login</button>
</form>
<script>
    let enterEmailPost = document.getElementById('enter-email');
    let enterOtpPost = document.getElementById('enter-otp');
    let emailText = document.getElementById('email2');
    function changeLayout(event) {
        enterEmailPost.style.display = 'none';
        enterOtpPost.style.display = 'block';
        emailText.value = document.getElementById('email').value;
    }
</script>
</body>

</html>